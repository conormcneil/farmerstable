<div ng-controller="FarmsController" class="farm-search">
  <button ng-click="view.toggle('zip_search')">Search by zip code</button>
  <div class="zip-search" ng-show='forms.zip_search'>
    <label for="zip">Zip Code</label>
    <input type="number" ng-model="view.zipCode" placeholder="12345" autofocus>
    <button ng-click="view.zipDecode(view.zipCode)">Search</button>
  </div>
  <div ng-repeat="farm in farms" class="nearby-farm shadow">
    <div class="nearby-farm-title">
      <h1><a href="/farm/details/{{ farm.id }}">{{ farm.name }}</a></h1>
      <img ng-src="{{farm.image_url}}">
    </div>
    <div class="nearby-farm-quicklook">
      <div class="nearby-farm-available">
        <p>CSA Available?</p>
        <p ng-show="farm.csa_id !== null" style="color: green;">YES</p>
        <p ng-show="farm.csa_id === null" style="color: red;">NO</p>
      </div>
      <p>{{ farm.address }}</p>
    </div>
  </div>
</div>
