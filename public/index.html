<!DOCTYPE html>
<html lang="en" ng-app="farmersTableApp">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./stylesheets/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.js" charset="utf-8"></script>
  <script src="./javascripts/app.js" charset="utf-8"></script>
  <script src="./javascripts/controllers.js" charset="utf-8"></script>
  <script src="./javascripts/filters.js" charset="utf-8"></script>
  <script src="./javascripts/googlemaps.js" charset="utf-8" async defer></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDhtVdRd8z-_OzSEdxwsym11zRxGygotFc&callback=initMap" async defer></script>
  <title>Angular Farmer's Table</title>
</head>
<body ng-controller='farmersTableController'>

  <header>
    Farmer's Table
  </header>

  <main class="content">
    <div class="search">
      <div id="map">
        Google Map
      </div>
      <form name="searchForm" ng-model="$searchForm">
        <label for="zip">Zip Code</label>
        <input type="text" name="zip" ng-model="view.zip" required>
        <input type="submit" ng-click="view.getMarkets(view.zip)">
      </form>
    </div>
    <div class="results">
      <div class="market" ng-repeat="market in view.markets">
        <h4 class="pointer" ng-click="view.moreInfo(market.id)">{{ market.marketname }}</h4>
        <div class="details" ng-show="view.activeMarketId === market.id">
          <p ng-click="view.getLatLong(view.marketDetails.Address)">{{ view.marketDetails.Address }}</p>
          <a href="{{ view.marketDetails.GoogleLink }}">
            <p>Website</p>
          </a>
          <p>Products: {{ view.marketDetails.Products }}</p>
        </div>
      </div>
    </div>
  </main>


  <!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDhtVdRd8z-_OzSEdxwsym11zRxGygotFc&callback=initMap" async defer></script> -->
  <!-- <script src="./js/googlemaps.js" charset="utf-8"></script> -->

</body>
</html>
